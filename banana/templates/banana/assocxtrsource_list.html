
{% extends "base.html" %}

{% load units %}
{% load tableheader %}
{% load paginator %}

{% block title %}Transients Â· Banana{% endblock title %}


{% block navdatabase %}<li><a href="{% url 'datasets' db_name %}">Database {{ db_name }}</a></li>{% endblock navdatabase %}

{% block navdataset %}
{% if dataset %}
<li><a href="{% url 'dataset' db_name dataset %}">Dataset {{ dataset }}</a></li>
{% endif %}
{% endblock %}

{% block navdeep %}
<li class="active"><a href="{% url 'assocxtrsources' db_name %}{% if dataset %}?dataset={{ dataset }}{% endif %}">Transients</a></li>
{% endblock %}


{% block content %}

<div class="row-fluid">
    <div class="span8 text-center">
        <form class="form-inline" action="" method="GET">
          <label class="control-label" for="inputV">V_int</label>
          <input type="text" name="v" id="inputV" class="input-mini" value="{{ v }}" placeholder="V">
          <label class="control-label" for="inputEta">Eta</label>
          <input type="text" name="eta" id="inputEta" class="input-mini" value="{{ eta }}" placeholder="Eta">
          <button type="submit" class="btn">Filter</button>
          <a href="{% url 'runningcatalogs' db_name %}" class="btn">Reset</a>
        </form>
    </div>

    <div class="span4 text-center">
        <a href="?format=csv{% if dataset %}&dataset={{ dataset }}{% endif %}"><button class="btn" type="button">CSV format</button></a>
    </div>

    {% if object_list %}

    <div class="span12 text-center">
        {% paginatorizer %}
    </div>

    <div class="span12">
        <table class="table table-bordered table-striped responsive-utilities table-condensed " >
            <thead>
            <tr>
                {% tableheader 'id' %}
                {% tableheader 'runcat' %}
                {% tableheader 'xtrsrc' %}
                {% tableheader 'xtrsrc__f_peak' 'f_peak' %}
                {% tableheader 'xtrsrc__f_int'  'f_int' %}
                {% tableheader 'xtrsrc__image__band__freq_central' 'freq_central' %}
                {% tableheader 'xtrsrc__image__taustart_ts' 'taustart_ts' %}
                {% tableheader 'xtrsrc__image__dataset' 'dataset' %}
                {% tableheader 'type' %}
                {% tableheader 'distance_arcsec' 'distance<sub>arcsec</sub>'%}
                {% tableheader 'r' %}
                {% tableheader 'loglr' %}
                {% tableheader 'v_int' %}
                {% tableheader 'eta_int' %}
            </tr>
            </thead>

            <tbody>
            {% for object in object_list %}
            <tr>
                <td>{{ object.id }}</td>
                <td><a href="{% url 'runningcatalog' db_name object.runcat %}">{{ object.runcat }}</a></td>
                <td><a href="{% url 'extractedsource' db_name object.xtrsrc %}">{{ object.xtrsrc }}</a></td>
                <td>{{ object.xtrsrc.f_peak|stringformat:".3f" }}</td>
                <td>{{ object.xtrsrc.f_int|stringformat:".3f" }}</td>
                <td>{{ object.xtrsrc.image.band.freq_central|scientific }}</td>
                <td>{{ object.xtrsrc.image.taustart_ts }}</td>
                <td>{{ object.xtrsrc.image.dataset.id }}</td>
                <td>{{ object.type }}</td>
                <td>{{ object.distance_arcsec|stringformat:".3f" }}</td>
                <td>{{ object.r|stringformat:".3f" }}</td>
                <td>{{ object.loglr }}</td>
                <td>{{ object.v_int|stringformat:".3f" }}</td>
                <td>{{ object.eta_int|stringformat:".3f" }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="span12 text-center">
        {% paginatorizer %}
    </div>

    {% else %}
    <p>No Transients</p>
    {% endif %}
</div>



{% endblock content %}
